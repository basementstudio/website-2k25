import { Pump } from "basehub/react-pump"
import { RichText } from "basehub/react-rich-text"
import Link from "next/link"

import { Grid } from "@/components/grid"
import { Input } from "@/components/primitives/input"

const SVG = () => (
  <svg
    fill="none"
    xmlns="http://www.w3.org/2000/svg"
    viewBox="0 0 88 76"
    width={88}
    height={76}
    className="stroke-brand-w1"
  >
    <path d="M30.8896 44.9925c.7552-2.6337 3.557-4.7597 6.2727-4.7597h7.771c1.4198 0 2.5299.5811 3.1581 1.5121.5734.8497.7453 1.9909.385 3.2476l-3.2756 11.4233c-.7552 2.6337-3.557 4.7597-6.2728 4.7597h-7.7709c-1.4198 0-2.5299-.5812-3.1582-1.5122-.5733-.8497-.7453-1.9908-.3849-3.2475l3.2756-11.4233Zm-5.5161 17.4681c-.9329 3.2533-.4894 6.1824.9855 8.3699 1.6539 2.453 4.6048 3.9736 8.3666 3.9736h7.82c7.2311 0 14.7166-5.6799 16.7274-12.6926l6.5921-22.9893c.959-3.3447.4989-6.3861-1.0294-8.6528-1.6761-2.4858-4.6367-4.0397-8.419-4.0397h-9.8158c-5.7587 0-11.7588 4.6645-13.4047 10.2333l7.7113-26.89225H25.202L6.64502 74.4867H21.9251l3.4484-12.0261ZM79.1732 61.1755H65.4309l-3.8215 13.3271h13.7423l3.8215-13.3271Z" />
    <path
      d="M19.2888 1.00732h15.7054l5.9112 8.76372H25.2l-5.9112-8.76372Z"
      strokeLinejoin="round"
    />
    <path
      d="M34.9944 1.00732 27.2832 27.8996l5.9112 8.7637 7.7112-26.89226-5.9112-8.76372ZM.731689 65.7231 19.2887 1.00708l5.9112 8.76372-18.55701 64.716-5.911201-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M27.2832 27.8996c1.6459-5.5688 7.646-10.2333 13.4046-10.2333l5.9113 8.7637c-5.7587 0-11.7588 4.6645-13.4047 10.2333l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M40.6868 17.6663h9.8159l5.9112 8.7637H46.598l-5.9112-8.7637ZM31.2476 31.469c-2.7157 0-5.5175 2.126-6.2727 4.7597l5.9112 8.7637c.7552-2.6337 3.557-4.7597 6.2727-4.7597l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M39.0182 31.469h-7.7709l5.9112 8.7637h7.7709l-5.9112-8.7637ZM58.921 21.706c-1.6761-2.4858-4.6367-4.0397-8.4189-4.0397l5.9112 8.7637c3.7822 0 6.7428 1.5539 8.4189 4.0397L58.921 21.706ZM24.9759 36.229l-3.2756 11.4233 5.9112 8.7637 3.2756-11.4233-5.9112-8.7637ZM42.1767 32.9811c-.6282-.931-1.7383-1.5121-3.1581-1.5121l5.9112 8.7637c1.4198 0 2.5299.5812 3.1582 1.5122l-5.9113-8.7638Z"
      strokeLinejoin="round"
    />
    <path
      d="M42.1775 32.9814c.5733.8497.7453 1.9909.3849 3.2476l5.9112 8.7637c.3604-1.2567.1884-2.3978-.3849-3.2475l-5.9112-8.7638ZM22.0837 50.9001c-.5734-.8497-.7453-1.9908-.3849-3.2475l5.9112 8.7637c-.3604 1.2567-.1885 2.3979.3849 3.2476l-5.9112-8.7638ZM58.9216 21.7058c1.5283 2.2667 1.9885 5.3082 1.0295 8.6528l5.9112 8.7638c.959-3.3447.4988-6.3862-1.0295-8.6529l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M22.0844 50.8999c.6282.931 1.7383 1.5121 3.1581 1.5121l5.9112 8.7638c-1.4198 0-2.5299-.5812-3.1581-1.5122l-5.9112-8.7637ZM39.287 47.6523l3.2756-11.4233 5.9112 8.7637-3.2756 11.4233-5.9112-8.7637ZM20.445 62.0667c-1.4749-2.1875-1.9183-5.1166-.9854-8.3699l5.9112 8.7637c-.9329 3.2534-.4895 6.1824.9854 8.3699l-5.9112-8.7637ZM16.012 65.7234H.731934l5.911206 8.7637H21.9232l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="m19.4587 53.6968-3.4484 12.0261 5.9112 8.7638 3.4484-12.0262-5.9112-8.7637ZM25.2433 52.4116h7.7709l5.9112 8.7637h-7.7709l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M33.0146 52.4123c2.7158 0 5.5176-2.126 6.2728-4.7597l5.9112 8.7637c-.7552 2.6337-3.557 4.7597-6.2727 4.7597l-5.9113-8.7637ZM59.9516 30.3586 53.3595 53.348l5.9112 8.7637 6.5921-22.9893-5.9112-8.7638ZM20.4451 62.0669c1.6539 2.453 4.6048 3.9736 8.3666 3.9736l5.9112 8.7637c-3.7618 0-6.7127-1.5206-8.3666-3.9736l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M36.631 66.0403h-7.82l5.9112 8.7637h7.82l-5.9112-8.7637ZM53.3594 53.3481c-2.0108 7.0127-9.4963 12.6926-16.7273 12.6926l5.9112 8.7637c7.231 0 14.7165-5.6799 16.7274-12.6925l-5.9113-8.7638ZM73.2586 52.4116H59.5164l5.9112 8.7637h13.7422l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="m59.5183 52.4116-3.8215 13.3272 5.9112 8.7637 3.8215-13.3272-5.9112-8.7637ZM69.439 65.7388l3.8215-13.3272 5.9112 8.7637-3.8215 13.3272-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M55.6968 65.739H69.439l5.9112 8.7637H61.608l-5.9112-8.7637Z"
      strokeLinejoin="round"
    />
    <path
      d="M24.9761 36.2288c.7552-2.6337 3.5571-4.7597 6.2728-4.7597h7.7709c2.7157 0 4.2983 2.126 3.5431 4.7597l-3.2756 11.4233c-.7552 2.6337-3.557 4.7597-6.2727 4.7597h-7.7709c-2.7158 0-4.2984-2.126-3.5432-4.7597l3.2756-11.4233Zm-5.516 17.4681c-1.979 6.9016 2.2355 12.3435 9.3521 12.3435h7.82c7.231 0 14.7165-5.6799 16.7273-12.6925l6.5921-22.9894c2.0108-7.0126-2.2173-12.6925-9.4483-12.6925h-9.8159c-5.7587 0-11.7587 4.6645-13.4046 10.2334L34.994 1.00708H19.2886L.731561 65.7231H16.0116l3.4485-12.0262ZM73.2597 52.4118H59.5175L55.696 65.7389h13.7422l3.8215-13.3271Z"
      fill="#000"
    />
    <path d="M24.9761 36.2288c.7552-2.6337 3.5571-4.7597 6.2728-4.7597h7.7709c2.7157 0 4.2983 2.126 3.5431 4.7597l-3.2756 11.4233c-.7552 2.6337-3.557 4.7597-6.2727 4.7597h-7.7709c-2.7158 0-4.2984-2.126-3.5432-4.7597l3.2756-11.4233Zm-5.516 17.4681c-1.979 6.9016 2.2355 12.3435 9.3521 12.3435h7.82c7.231 0 14.7165-5.6799 16.7273-12.6925l6.5921-22.9894c2.0108-7.0126-2.2173-12.6925-9.4483-12.6925h-9.8159c-5.7587 0-11.7587 4.6645-13.4046 10.2334L34.994 1.00708H19.2886L.731561 65.7231H16.0116l3.4485-12.0262ZM73.2597 52.4118H59.5175L55.696 65.7389h13.7422l3.8215-13.3271Z" />
  </svg>
)

export const Footer = () => (
  <Pump
    queries={[
      {
        company: {
          social: {
            github: true,
            instagram: true,
            twitter: true,
            newsletter: {
              json: {
                content: true
              }
            }
          }
        }
      }
    ]}
    next={{ revalidate: 30 }}
  >
    {async ([data]) => {
      "use server"

      return (
        <footer className="relative z-10 flex h-screen items-end bg-brand-k pb-3">
          <Grid />
          <div className="absolute inset-0 flex items-center justify-center">
            <SVG />
          </div>
          <div className="grid-layout relative items-end">
            <div className="col-start-1 col-end-5 grid grid-cols-4 gap-x-2 gap-y-3">
              <RichText
                content={data.company.social.newsletter.json.content}
                components={{
                  h3: ({ children }) => (
                    <p className="col-span-4 text-subheading text-brand-w2">
                      {children}
                    </p>
                  ),
                  p: ({ children }) => (
                    <p className="col-start-1 col-end-4 text-paragraph text-brand-w2">
                      {children}
                    </p>
                  )
                }}
              />

              <div className="col-span-4 grid grid-cols-4 gap-2">
                <Input className="col-span-1" placeholder="Name" />
                <Input className="col-span-2" placeholder="Email" />
                <button className="col-span-1 w-fit text-paragraph text-brand-g1">
                  Submit Form →
                </button>
              </div>
            </div>
            <div className="col-start-9 col-end-11 text-paragraph text-brand-g1">
              <Link
                className="actionable text-brand-w1"
                href={data.company.social.twitter ?? ""}
              >
                Twitter
              </Link>
              {" , "}
              <Link
                className="actionable text-brand-w1"
                href={data.company.social.instagram ?? ""}
              >
                Instagram
              </Link>
              {" , "}
              <Link className="actionable text-brand-w1" href="/">
                Github
              </Link>
            </div>
            <div className="col-start-11 col-end-13 text-right text-paragraph text-brand-g1">
              <p>© basement.studio LLC {new Date().getFullYear()}</p>
              <p>all rights reserved</p>
            </div>
          </div>
        </footer>
      )
    }}
  </Pump>
)
